<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Enablement Command Center | Masha Harness</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.js"></script>
    <style>
        :root {
            --bg: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --accent-1: #38bdf8;
            --accent-2: #e11d48;
            --text-main: #f8fafc;
            --text-dim: #94a3b8;
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        body { 
            font-family: 'Inter', -apple-system, sans-serif; 
            background: radial-gradient(circle at top right, #1e293b, #0f172a);
            color: var(--text-main); 
            margin: 0; padding: 20px; 
            min-height: 100vh;
        }

        .container { max-width: 1100px; margin: 0 auto; }

        header { 
            display: flex; flex-direction: row; justify-content: space-between; 
            align-items: flex-end; margin-bottom: 40px; 
            border-bottom: 1px solid #334155; padding-bottom: 20px; gap: 15px;
        }

/* --- Strategic Goal Progress Bar Module --- */
        .goal-module {
            margin-bottom: 30px;
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            padding: 20px;
            border-radius: 16px;
            border: 1px solid var(--glass-border);
        }

        .goal-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .goal-info span {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-dim);
        }

        .goal-info .percentage {
            color: var(--accent-1);
            font-family: monospace;
            font-weight: bold;
            font-size: 14px;
        }

        .progress-track {
            background: rgba(255, 255, 255, 0.05);
            height: 10px;
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .progress-fill {
            width: 74%; /* Set your current progress here */
            height: 100%;
            background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.4);
            transition: width 1s ease-in-out;
        }

        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px; }

        .card, .chart-container { 
            background: var(--card-bg); backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px); border: 1px solid var(--glass-border);
            position: relative; overflow: hidden;
        }

        .card { padding: 20px; border-radius: 16px; }
        .card::after {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 4px;
            background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
        }

        .card h3 { margin: 0; font-size: 11px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; }
        .card .value { font-size: 32px; font-weight: 800; margin: 10px 0; background: linear-gradient(to right, #fff, #cbd5e1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .card .trend { font-size: 12px; color: var(--accent-1); font-family: monospace; }

        .chart-container { padding: 25px; border-radius: 20px; margin-bottom: 30px; }

        .card, .goal-module, .chart-container {
            transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        /* FIXED: Hover for Laptop + Active Touch for iPhone */
        .card:hover, .goal-module:hover,
        .card:active, .goal-module:active {
            transform: translateY(-5px);
            border-color: var(--accent-1);
            box-shadow: 0 10px 30px rgba(56, 189, 248, 0.2);
            -webkit-tap-highlight-color: transparent; /* Removes the default gray box on iPhone */
        }

        /* FIXED: Value Glow for Laptop + iPhone Tap */
        .card:hover .value, .card:active .value {
            text-shadow: 0 0 20px rgba(56, 189, 248, 0.6);
            transition: text-shadow 0.3s ease;
        }

        /* THE PROPORTIONAL FIX */
        .chart-wrapper {
            position: relative;
            width: 100%;
            height: 350px; /* Desktop Height */
        }

        .insight-box { 
            background: rgba(56, 189, 248, 0.08); border-radius: 12px; 
            padding: 15px; margin-top: 20px; border: 1px solid rgba(56, 189, 248, 0.2);
            font-size: 13px; line-height: 1.5; color: var(--text-dim);
        }

        .insight-box strong { color: var(--accent-1); display: block; margin-bottom: 5px; font-size: 14px; }
        h2 { font-size: 18px; margin-bottom: 20px; letter-spacing: -0.5px; }
        .badge { border: 1px solid var(--accent-2); color: var(--accent-2); padding: 4px 12px; border-radius: 30px; font-size: 10px; font-weight: bold; white-space: nowrap; }

/* --- Wizard Wand Chatbot Module --- */
        .chat-trigger {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.4);
            z-index: 1000;
            font-size: 24px;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: pulse 2s infinite;
        }

        .chat-trigger:active { transform: scale(0.9); }

        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 320px;
            height: 400px;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            display: none; /* Hidden by default */
            flex-direction: column;
            overflow: hidden;
            z-index: 1001;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        .chat-header {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h4 { margin: 0; font-size: 14px; color: var(--accent-1); }

        .chat-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            font-size: 13px;
            line-height: 1.4;
            color: var(--text-dim);
        }

        .bot-msg {
            background: rgba(56, 189, 248, 0.1);
            padding: 10px;
            border-radius: 12px;
            margin-bottom: 10px;
            border-left: 3px solid var(--accent-1);
        }

        @media (max-width: 480px) {
            .chat-window {
                width: calc(100% - 40px);
                right: 20px;
                bottom: 90px;
            }
            .chat-trigger { bottom: 20px; right: 20px; }
        }

        @media (max-width: 480px) {
            header { flex-direction: column; align-items: flex-start; gap: 10px; }
            .grid { grid-template-columns: 1fr; gap: 15px; } /* Only stacks on very narrow portrait screens */
            .chart-wrapper { height: 260px; }
            .goal-module { padding: 15px; margin-bottom: 20px; }
            .goal-info span { font-size: 9px; }            
            header h1 { font-size: 22px !important; }
        }
        
        /* This ensures that on Landscape and larger, we always have 3 columns */
        @media (min-width: 481px) {
            .grid { grid-template-columns: repeat(3, 1fr); }
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(56, 189, 248, 0); }
            100% { box-shadow: 0 0 0 0 rgba(56, 189, 248, 0); }
        }
         .chat-commands {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .cmd-btn {
            background: rgba(56, 189, 248, 0.1);
            border: 1px solid rgba(56, 189, 248, 0.3);
            color: var(--accent-1);
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .cmd-btn:hover, .cmd-btn:active {
            background: var(--accent-1);
            color: var(--bg);
        }
        
    </style>
</head>
<body>

<div class="container">
    <header>
        <div>
            <h1 style="margin:0; font-size: 28px; letter-spacing: -1px;">AI Enablement Command Center</h1>
            <p style="margin:8px 0 0; color: var(--text-dim);">Project "Nightshade" | Predictive Sales Analytics</p>
        </div>
        <div class="badge">MASHA HARNESS | ANALYTICS PORTFOLIO</div>
    </header>

    <div class="goal-module">
        <div class="goal-info">
            <span>Quarterly Revenue Enablement Target</span>
            <span class="percentage">74%</span>
        </div>
        <div class="progress-track">
            <div class="progress-fill"></div>
        </div>
    </div>

    <div class="grid">
        <div class="card">
            <h3>Win Rate Uplift</h3>
            <div class="value">+191%</div>
            <div class="trend">Post-Certification Impact</div>
        </div>
        <div class="card">
            <h3>Avg. Deal Size (ACV)</h3>
            <div class="value">$152K</div>
            <div class="trend">High-Value Portfolio Focus</div>
        </div>
        <div class="card">
            <h3>Sales Cycle Speed</h3>
            <div class="value">-50%</div>
            <div class="trend">Automated Efficiency</div>
        </div>
    </div>

    <div class="chart-container">
        <h2>Performance Correlation</h2>
        <div class="chart-wrapper">
            <canvas id="correlationChart"></canvas>
        </div>
        <div class="insight-box">
            <strong>The "Alchemist" Insight</strong>
            Data confirms that Certified Specialists don't just "sell"â€”they accelerate. Our analysis shows that Certified Enablement creates a dual-impact ROI: it reduces the sales cycle (Velocity) while simultaneously expanding the average deal size. This proves that technical fluency in the AI segment is the primary driver of Pipeline Quality and predictable Revenue Growth.
        </div>
    </div>

    <div class="chart-container">
        <h2>Enablement-to-Revenue Velocity</h2>
        <div class="chart-wrapper">
            <canvas id="momentumChart"></canvas>
        </div>
        <div class="insight-box">
            <strong>Velocity Analysis</strong>
            Telemetry identifies a 2-week lag between certification and deal registration inflection points. By treating Enablement as a <b style="color: var(--text-dim);">Leading Indicator</b>, we can accurately forecast revenue surges 14 days in advance. This "Early Warning System" allows management to optimize sales floor capacity ahead of the revenue curve.
        </div>
    </div>

    <div class="chat-trigger" id="chatBtn">ðŸª„</div>

    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <h4>AI Strategist Bot</h4>
            <span style="cursor:pointer; opacity:0.5;" id="closeChat">âœ•</span>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="bot-msg">
                Greetings, I am the Nightshade AI. How can I assist with your sales telemetry today?
                <div class="chat-commands">
                    <button class="cmd-btn" onclick="botCommand('refresh')">ðŸ”„ Refresh Data</button>
                    <button class="cmd-btn" onclick="botCommand('export')">ðŸ“„ Export PDF</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    Chart.defaults.color = '#94a3b8';
    Chart.defaults.borderColor = 'rgba(51, 65, 85, 0.5)';

    const options = {
        responsive: true,
        maintainAspectRatio: false, // This allows the chart to use the wrapper's height
        plugins: {
            legend: { position: 'top', labels: { boxWidth: 10, font: { size: 10 } } }
        },
        scales: {
            y: { beginAtZero: true, grid: { color: 'rgba(51, 65, 85, 0.3)' } },
            x: { grid: { display: false } }
        }
    };

    // Correlation Bar Chart
    new Chart(document.getElementById('correlationChart'), {
        type: 'bar',
        data: {
            labels: ['Win Rate %', 'Adoption %', 'Pipeline (M)'],
            datasets: [{
                label: 'Certified',
                data: [35, 78, 12],
                backgroundColor: '#38bdf8',
                borderRadius: 4
            }, {
                label: 'Base',
                data: [12, 22, 4],
                backgroundColor: '#64748b',
                borderRadius: 4
            }]
        },
        options: options
    });

    // Momentum Line Chart
    new Chart(document.getElementById('momentumChart'), {
        type: 'line',
        data: {
            labels: ['W1', 'W2', 'W3', 'W4', 'W5', 'W6'],
            datasets: [{
                label: 'Certs',
                data: [10, 25, 65, 95, 110, 120],
                borderColor: '#38bdf8',
                backgroundColor: 'rgba(56, 189, 248, 0.1)',
                fill: true,
                borderWidth: 2,
                tension: 0.4
            }, {
                label: 'Deals',
                data: [5, 12, 28, 55, 82, 115],
                borderColor: '#e11d48',
                borderWidth: 2,
                tension: 0.4
            }]
        },
        options: options
    });
    // Chatbot
    const chatBtn = document.getElementById('chatBtn');
        const chatWindow = document.getElementById('chatWindow');
        const closeChat = document.getElementById('closeChat');

        chatBtn.addEventListener('click', () => {
            const isVisible = chatWindow.style.display === 'flex';
            chatWindow.style.display = isVisible ? 'none' : 'flex';
            
            // Add a little pulse on click
            chatBtn.style.transform = 'scale(0.9)';
            setTimeout(() => chatBtn.style.transform = 'scale(1)', 100);
        });

        closeChat.addEventListener('click', () => {
            chatWindow.style.display = 'none';
    });

    function botCommand(type) {
        const body = document.getElementById('chatBody');
        const msg = document.createElement('div');
        msg.className = 'bot-msg';
        
        if(type === 'refresh') {
            msg.innerHTML = "<strong>System:</strong> Telemetry refreshed. Win Rate and ACV updated to latest real-time sync.";
            // Here we could trigger a chart update logic later
        } else {
            msg.innerHTML = "<strong>System:</strong> Generating PDF report... Your download will begin shortly.";
        }
        
        body.appendChild(msg);
        body.scrollTop = body.scrollHeight; // Auto-scroll to new message
    }
    
</script>

</body>
</html>
